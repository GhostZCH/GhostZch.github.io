## ssh 可以远程执行命令，设计通配符的时候需要使用单引号引起，例如

    for i in `cat grp`; do echo $i; ssh root@$i 'zcat /log/error.log.*.gz | grep DIFF| grep  "2018/08/29"' > $i.diff; done

## stderr重定向到stdio

全部输出到某个文件

    curl -vv www.baidu.com > baidu.log 2>&1

stderr不能直接grep,过度下

    curl -vv www.baidu.com 2>&1 | grep HTTP

## 快速生成大文件

fallocate 最好用的

没有的时候可以 dd 使用　seek，skip可以更快的建立一个空洞文件

    dd if=/dev/zero of=/tmp/test bs=1G count=6

## curl

### 指定访问ip

    curl --resolve www.baidu.com:443:127.0.0.1 https://www.baidu.com

### post

mutipart 上传文件

    curl -F "1111=@110055.body" https://www.baidu.com

url-encode 上传内容

    curl -d "param1=value1&param2=value2" "http://www.baidu.com"

##　ssh -A

带上公钥，在登录的机器上可以使用ssh登录其他的机器，更新git库等

## 删除旧文件

    KEEP_DAYS=50
    find ${GZ_DIR} -mtime +${KEEP_DAYS} -name "*.log.gz" -exec  rm {} \;

+ find + xargs 也可以实现类似功能但是不安全，容易误删
+ 执行之前可以多用ls代替rm 测试几次再执行
+ 尽可能详细指定文件名模式，减少误删可能

## find 正则文件名称

+ -regex 只能正则
+ 写正则要包含路径内容，不是只有文件名
+ -regextype可以指定正则兼容性

例如：

    find ${TARGET_DIR} -regextype grep -regex '.*access-[0-9]\{10\}\.log\.gz'

## 参看json文件内容

+ 利用python

    cat test.json | python -m json.tool > format.json
    cat test.json | python -m json.tool | less

+ jq

    cat test.json | jq . > format.json
    cat test.json | jq . | less

> jq 支持更高级的用法，部分系统需要安装 `apt-get install jq`, 更详细参见man页面

## 建立软链接

    ln -s source target
